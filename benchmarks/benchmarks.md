# Benchmarks
- Workload matrix:
  - `fib`: naive recursion (call-heavy, non-tail)
  - `fib_tr`: tail recursion with accumulators
  - `concat`: list-heavy concatenation/copy pressure
  - `sum_range`: integer-only tail-recursive accumulation
  - `collatz`: branch-heavy integer recursion
  - `mutual_recursion`: cross-function recursive call overhead

Auto-generated by `benchmarks/generate_report.py`.

- Runs per configuration: `5`
- Warmup runs per configuration: `2`
- Runtime metric: median wall-clock seconds
- Plot scale: logarithmic y-axis

## fib

![fib plot](plots/fib.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.687370 | 0.050337 | 0.025704 | 0.07x | 1.96x |
| `funk_cpp20_i32` | 0.670594 | 0.052287 | 0.025109 | 0.08x | 2.08x |
| `funk_cpp20_i32_fastpath` | 0.677440 | 0.052777 | 0.026871 | 0.08x | 1.96x |

## fib_tr

![fib_tr plot](plots/fib_tr.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.016595 | 0.003281 | 0.003078 | 0.20x | 1.07x |
| `funk_cpp20_i32` | 0.015360 | 0.002778 | 0.002718 | 0.18x | 1.02x |
| `funk_cpp20_i32_fastpath` | 0.016966 | 0.003031 | 0.002757 | 0.18x | 1.10x |

## concat

![concat plot](plots/concat.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.052091 | 1.270153 | 0.003042 | 24.38x | 417.54x |
| `funk_cpp20_i32` | 0.049069 | 1.268847 | 0.002645 | 25.86x | 479.72x |
| `funk_cpp20_i32_fastpath` | 0.049175 | 1.268426 | 0.002272 | 25.79x | 558.29x |

## sum_range

![sum_range plot](plots/sum_range.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.023993 | 0.002860 | 0.003133 | 0.12x | 0.91x |
| `funk_cpp20_i32` | 0.024182 | 0.003016 | 0.003068 | 0.12x | 0.98x |
| `funk_cpp20_i32_fastpath` | 0.024167 | 0.003088 | 0.002902 | 0.13x | 1.06x |

## collatz

![collatz plot](plots/collatz.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.067071 | 0.117422 | 0.003950 | 1.75x | 29.73x |
| `funk_cpp20_i32` | 0.067198 | 0.116570 | 0.004191 | 1.73x | 27.81x |
| `funk_cpp20_i32_fastpath` | 0.066988 | 0.116747 | 0.004644 | 1.74x | 25.14x |

## mutual_recursion

![mutual_recursion plot](plots/mutual_recursion.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.088339 | 0.103560 | 0.002598 | 1.17x | 39.86x |
| `funk_cpp20_i32` | 0.089019 | 0.104226 | 0.002927 | 1.17x | 35.61x |
| `funk_cpp20_i32_fastpath` | 0.089089 | 0.103715 | 0.002642 | 1.16x | 39.26x |

## Findings

- `fib` best Funk variant is `funk_cpp20` at `0.050337s` (0.07x vs Python, 1.96x vs C).
- `fib_tr` best Funk variant is `funk_cpp20_i32` at `0.002778s` (0.18x vs Python, 1.02x vs C).
- `concat` best Funk variant is `funk_cpp20_i32_fastpath` at `1.268426s` (25.79x vs Python, 558.29x vs C).
- `sum_range` best Funk variant is `funk_cpp20` at `0.002860s` (0.12x vs Python, 0.91x vs C).
- `collatz` best Funk variant is `funk_cpp20_i32` at `0.116570s` (1.73x vs Python, 27.81x vs C).
- `mutual_recursion` best Funk variant is `funk_cpp20` at `0.103560s` (1.17x vs Python, 39.86x vs C).
