# Benchmarks
- Workload matrix:
  - `fib`: naive recursion (call-heavy, non-tail)
  - `fib_tr`: tail recursion with accumulators
  - `concat`: list-heavy concatenation/copy pressure
  - `sum_range`: integer-only tail-recursive accumulation
  - `collatz`: branch-heavy integer recursion
  - `mutual_recursion`: cross-function recursive call overhead

Auto-generated by `benchmarks/generate_report.py`.

- Runs per configuration: `7`
- Warmup runs per configuration: `2`
- Runtime metric: median wall-clock seconds
- Plot scale: logarithmic y-axis

## fib

![fib plot](plots/fib.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.649787 | 0.048179 | 0.025001 | 0.07x | 1.93x |
| `funk_cpp20_i32` | 0.658691 | 0.048145 | 0.024530 | 0.07x | 1.96x |
| `funk_cpp20_i32_fastpath` | 0.654515 | 0.048046 | 0.024237 | 0.07x | 1.98x |

## fib_tr

![fib_tr plot](plots/fib_tr.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.015324 | 0.002945 | 0.002926 | 0.19x | 1.01x |
| `funk_cpp20_i32` | 0.015015 | 0.002927 | 0.002589 | 0.19x | 1.13x |
| `funk_cpp20_i32_fastpath` | 0.015064 | 0.002930 | 0.002814 | 0.19x | 1.04x |

## concat

![concat plot](plots/concat.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.047370 | 1.256476 | 0.002659 | 26.52x | 472.54x |
| `funk_cpp20_i32` | 0.047906 | 1.257708 | 0.002496 | 26.25x | 503.89x |
| `funk_cpp20_i32_fastpath` | 0.048412 | 1.257938 | 0.002587 | 25.98x | 486.25x |

## sum_range

![sum_range plot](plots/sum_range.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.023473 | 0.003161 | 0.002510 | 0.13x | 1.26x |
| `funk_cpp20_i32` | 0.023995 | 0.002897 | 0.002772 | 0.12x | 1.05x |
| `funk_cpp20_i32_fastpath` | 0.023629 | 0.002702 | 0.002564 | 0.11x | 1.05x |

## collatz

![collatz plot](plots/collatz.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.066154 | 0.005345 | 0.003312 | 0.08x | 1.61x |
| `funk_cpp20_i32` | 0.066620 | 0.006120 | 0.003870 | 0.09x | 1.58x |
| `funk_cpp20_i32_fastpath` | 0.066547 | 0.005662 | 0.004101 | 0.09x | 1.38x |

## mutual_recursion

![mutual_recursion plot](plots/mutual_recursion.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.088299 | 0.003108 | 0.002689 | 0.04x | 1.16x |
| `funk_cpp20_i32` | 0.087472 | 0.003158 | 0.002622 | 0.04x | 1.20x |
| `funk_cpp20_i32_fastpath` | 0.087381 | 0.003386 | 0.002442 | 0.04x | 1.39x |

## Findings

- `fib` best Funk variant is `funk_cpp20_i32_fastpath` at `0.048046s` (0.07x vs Python, 1.98x vs C).
- `fib_tr` best Funk variant is `funk_cpp20_i32` at `0.002927s` (0.19x vs Python, 1.13x vs C).
- `concat` best Funk variant is `funk_cpp20` at `1.256476s` (26.52x vs Python, 472.54x vs C).
- `sum_range` best Funk variant is `funk_cpp20_i32_fastpath` at `0.002702s` (0.11x vs Python, 1.05x vs C).
- `collatz` best Funk variant is `funk_cpp20` at `0.005345s` (0.08x vs Python, 1.61x vs C).
- `mutual_recursion` best Funk variant is `funk_cpp20` at `0.003108s` (0.04x vs Python, 1.16x vs C).
