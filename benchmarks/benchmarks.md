# Benchmarks
- Workload matrix:
  - `fib`: naive recursion (call-heavy, non-tail)
  - `fib_tr`: tail recursion with accumulators
  - `concat`: list-heavy concatenation/copy pressure
  - `sum_range`: integer-only tail-recursive accumulation
  - `collatz`: branch-heavy integer recursion
  - `mutual_recursion`: cross-function recursive call overhead
  - `fp_dot`: double-precision dot product reduction
  - `fp_axpy`: double-precision daxpy-style reduction
  - `fp_triad`: double-precision STREAM-like triad reduction

Auto-generated by `benchmarks/generate_report.py`.

- Runs per configuration: `5`
- Warmup runs per configuration: `1`
- Runtime metric: median wall-clock seconds
- Plot scale: logarithmic y-axis

## fib

![fib plot](plots/fib.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.650958 | 0.024499 | 0.024423 | 0.04x | 1.00x |
| `funk_cpp20_i32` | 0.649791 | 0.024711 | 0.024682 | 0.04x | 1.00x |
| `funk_cpp20_i32_fastpath` | 0.657996 | 0.024880 | 0.024309 | 0.04x | 1.02x |

## fib_tr

![fib_tr plot](plots/fib_tr.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.015102 | 0.003165 | 0.003044 | 0.21x | 1.04x |
| `funk_cpp20_i32` | 0.013160 | 0.002095 | 0.002108 | 0.16x | 0.99x |
| `funk_cpp20_i32_fastpath` | 0.013190 | 0.001905 | 0.002094 | 0.14x | 0.91x |

## concat

![concat plot](plots/concat.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.048011 | 0.136544 | 0.008055 | 2.84x | 16.95x |
| `funk_cpp20_i32` | 0.047207 | 0.135935 | 0.006844 | 2.88x | 19.86x |
| `funk_cpp20_i32_fastpath` | 0.046995 | 0.133226 | 0.007327 | 2.83x | 18.18x |

## sum_range

![sum_range plot](plots/sum_range.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.021802 | 0.002695 | 0.003863 | 0.12x | 0.70x |
| `funk_cpp20_i32` | 0.021638 | 0.002505 | 0.003385 | 0.12x | 0.74x |
| `funk_cpp20_i32_fastpath` | 0.022301 | 0.002945 | 0.003383 | 0.13x | 0.87x |

## collatz

![collatz plot](plots/collatz.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.067024 | 0.003838 | 0.005487 | 0.06x | 0.70x |
| `funk_cpp20_i32` | 0.065871 | 0.005398 | 0.005374 | 0.08x | 1.00x |
| `funk_cpp20_i32_fastpath` | 0.065007 | 0.005176 | 0.005346 | 0.08x | 0.97x |

## mutual_recursion

![mutual_recursion plot](plots/mutual_recursion.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.083392 | 0.004991 | 0.003962 | 0.06x | 1.26x |
| `funk_cpp20_i32` | 0.083992 | 0.004133 | 0.003620 | 0.05x | 1.14x |
| `funk_cpp20_i32_fastpath` | 0.083713 | 0.004922 | 0.003634 | 0.06x | 1.35x |

## fp_dot

![fp_dot plot](plots/fp_dot.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.021194 | 0.004102 | 0.004314 | 0.19x | 0.95x |
| `funk_cpp20_i32` | 0.021190 | 0.005283 | 0.003093 | 0.25x | 1.71x |
| `funk_cpp20_i32_fastpath` | 0.024094 | 0.005479 | 0.003396 | 0.23x | 1.61x |

## fp_axpy

![fp_axpy plot](plots/fp_axpy.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.024734 | 0.004136 | 0.002975 | 0.17x | 1.39x |
| `funk_cpp20_i32` | 0.029557 | 0.004287 | 0.002433 | 0.15x | 1.76x |
| `funk_cpp20_i32_fastpath` | 0.028074 | 0.004701 | 0.002906 | 0.17x | 1.62x |

## fp_triad

![fp_triad plot](plots/fp_triad.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.028718 | 0.005036 | 0.002885 | 0.18x | 1.75x |
| `funk_cpp20_i32` | 0.033006 | 0.005251 | 0.003217 | 0.16x | 1.63x |
| `funk_cpp20_i32_fastpath` | 0.032726 | 0.005289 | 0.003279 | 0.16x | 1.61x |

## Findings

- `fib` best Funk variant is `funk_cpp20` at `0.024499s` (0.04x vs Python, 1.00x vs C).
- `fib_tr` best Funk variant is `funk_cpp20_i32_fastpath` at `0.001905s` (0.14x vs Python, 0.91x vs C).
- `concat` best Funk variant is `funk_cpp20_i32_fastpath` at `0.133226s` (2.83x vs Python, 18.18x vs C).
- `sum_range` best Funk variant is `funk_cpp20_i32` at `0.002505s` (0.12x vs Python, 0.74x vs C).
- `collatz` best Funk variant is `funk_cpp20` at `0.003838s` (0.06x vs Python, 0.70x vs C).
- `mutual_recursion` best Funk variant is `funk_cpp20_i32` at `0.004133s` (0.05x vs Python, 1.14x vs C).
- `fp_dot` best Funk variant is `funk_cpp20` at `0.004102s` (0.19x vs Python, 0.95x vs C).
- `fp_axpy` best Funk variant is `funk_cpp20` at `0.004136s` (0.17x vs Python, 1.39x vs C).
- `fp_triad` best Funk variant is `funk_cpp20` at `0.005036s` (0.18x vs Python, 1.75x vs C).
