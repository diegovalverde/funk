# Benchmarks
- Workload matrix:
  - `fib`: naive recursion (call-heavy, non-tail)
  - `fib_tr`: tail recursion with accumulators
  - `concat`: list-heavy concatenation/copy pressure
  - `sum_range`: integer-only tail-recursive accumulation
  - `collatz`: branch-heavy integer recursion
  - `mutual_recursion`: cross-function recursive call overhead

Auto-generated by `benchmarks/generate_report.py`.

- Runs per configuration: `7`
- Warmup runs per configuration: `2`
- Runtime metric: median wall-clock seconds
- Plot scale: logarithmic y-axis

## fib

![fib plot](plots/fib.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.656882 | 0.047335 | 0.024477 | 0.07x | 1.93x |
| `funk_cpp20_i32` | 0.656914 | 0.047895 | 0.024157 | 0.07x | 1.98x |
| `funk_cpp20_i32_fastpath` | 0.654304 | 0.048462 | 0.024256 | 0.07x | 2.00x |

## fib_tr

![fib_tr plot](plots/fib_tr.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.015205 | 0.003332 | 0.002523 | 0.22x | 1.32x |
| `funk_cpp20_i32` | 0.015213 | 0.002995 | 0.002619 | 0.20x | 1.14x |
| `funk_cpp20_i32_fastpath` | 0.015034 | 0.002794 | 0.002600 | 0.19x | 1.07x |

## concat

![concat plot](plots/concat.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.047516 | 1.233247 | 0.002496 | 25.95x | 494.09x |
| `funk_cpp20_i32` | 0.045174 | 1.220338 | 0.002029 | 27.01x | 601.45x |
| `funk_cpp20_i32_fastpath` | 0.045363 | 1.223666 | 0.002022 | 26.97x | 605.18x |

## sum_range

![sum_range plot](plots/sum_range.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.021545 | 0.003227 | 0.002501 | 0.15x | 1.29x |
| `funk_cpp20_i32` | 0.021616 | 0.002465 | 0.002392 | 0.11x | 1.03x |
| `funk_cpp20_i32_fastpath` | 0.021419 | 0.001898 | 0.001864 | 0.09x | 1.02x |

## collatz

![collatz plot](plots/collatz.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.063984 | 0.005409 | 0.003823 | 0.08x | 1.41x |
| `funk_cpp20_i32` | 0.063570 | 0.005552 | 0.003361 | 0.09x | 1.65x |
| `funk_cpp20_i32_fastpath` | 0.064332 | 0.005373 | 0.003671 | 0.08x | 1.46x |

## mutual_recursion

![mutual_recursion plot](plots/mutual_recursion.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.082718 | 0.100080 | 0.002446 | 1.21x | 40.92x |
| `funk_cpp20_i32` | 0.082661 | 0.100519 | 0.002052 | 1.22x | 48.99x |
| `funk_cpp20_i32_fastpath` | 0.082079 | 0.100044 | 0.001941 | 1.22x | 51.54x |

## Findings

- `fib` best Funk variant is `funk_cpp20` at `0.047335s` (0.07x vs Python, 1.93x vs C).
- `fib_tr` best Funk variant is `funk_cpp20_i32_fastpath` at `0.002794s` (0.19x vs Python, 1.07x vs C).
- `concat` best Funk variant is `funk_cpp20_i32` at `1.220338s` (27.01x vs Python, 601.45x vs C).
- `sum_range` best Funk variant is `funk_cpp20_i32_fastpath` at `0.001898s` (0.09x vs Python, 1.02x vs C).
- `collatz` best Funk variant is `funk_cpp20_i32_fastpath` at `0.005373s` (0.08x vs Python, 1.46x vs C).
- `mutual_recursion` best Funk variant is `funk_cpp20_i32_fastpath` at `0.100044s` (1.22x vs Python, 51.54x vs C).
