# Benchmarks
- Workload matrix:
  - `fib`: naive recursion (call-heavy, non-tail)
  - `fib_tr`: tail recursion with accumulators
  - `concat`: list-heavy concatenation/copy pressure
  - `sum_range`: integer-only tail-recursive accumulation
  - `collatz`: branch-heavy integer recursion
  - `mutual_recursion`: cross-function recursive call overhead
  - `fp_dot`: double-precision dot product reduction
  - `fp_axpy`: double-precision daxpy-style reduction
  - `fp_triad`: double-precision STREAM-like triad reduction

Auto-generated by `benchmarks/generate_report.py`.

- Runs per configuration: `7`
- Warmup runs per configuration: `1`
- Runtime metric: median wall-clock seconds
- Plot scale: logarithmic y-axis

## fib

![fib plot](plots/fib.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.632003 | 0.024404 | 0.024433 | 0.04x | 1.00x |
| `funk_cpp20_i32` | 0.660700 | 0.024675 | 0.024151 | 0.04x | 1.02x |
| `funk_cpp20_i32_fastpath` | 0.701195 | 0.024623 | 0.024224 | 0.04x | 1.02x |

## fib_tr

![fib_tr plot](plots/fib_tr.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.013366 | 0.003284 | 0.003247 | 0.25x | 1.01x |
| `funk_cpp20_i32` | 0.013280 | 0.003079 | 0.002618 | 0.23x | 1.18x |
| `funk_cpp20_i32_fastpath` | 0.013431 | 0.003674 | 0.002679 | 0.27x | 1.37x |

## concat

![concat plot](plots/concat.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.046210 | 0.133411 | 0.007493 | 2.89x | 17.80x |
| `funk_cpp20_i32` | 0.046153 | 0.132850 | 0.006829 | 2.88x | 19.45x |
| `funk_cpp20_i32_fastpath` | 0.046522 | 0.132406 | 0.006756 | 2.85x | 19.60x |

## sum_range

![sum_range plot](plots/sum_range.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.022172 | 0.003127 | 0.003119 | 0.14x | 1.00x |
| `funk_cpp20_i32` | 0.022040 | 0.003211 | 0.002944 | 0.15x | 1.09x |
| `funk_cpp20_i32_fastpath` | 0.022010 | 0.003332 | 0.003027 | 0.15x | 1.10x |

## collatz

![collatz plot](plots/collatz.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.065601 | 0.005042 | 0.004750 | 0.08x | 1.06x |
| `funk_cpp20_i32` | 0.065405 | 0.004886 | 0.004321 | 0.07x | 1.13x |
| `funk_cpp20_i32_fastpath` | 0.065339 | 0.004921 | 0.004210 | 0.08x | 1.17x |

## mutual_recursion

![mutual_recursion plot](plots/mutual_recursion.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.086347 | 0.003738 | 0.002874 | 0.04x | 1.30x |
| `funk_cpp20_i32` | 0.086338 | 0.003790 | 0.003064 | 0.04x | 1.24x |
| `funk_cpp20_i32_fastpath` | 0.087296 | 0.003708 | 0.002792 | 0.04x | 1.33x |

## fp_dot

![fp_dot plot](plots/fp_dot.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.021437 | 0.004197 | 0.004053 | 0.20x | 1.04x |
| `funk_cpp20_i32` | 0.021081 | 0.004896 | 0.002910 | 0.23x | 1.68x |
| `funk_cpp20_i32_fastpath` | 0.021201 | 0.004848 | 0.003331 | 0.23x | 1.46x |

## fp_axpy

![fp_axpy plot](plots/fp_axpy.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.022098 | 0.004799 | 0.003443 | 0.22x | 1.39x |
| `funk_cpp20_i32` | 0.021882 | 0.004852 | 0.003180 | 0.22x | 1.53x |
| `funk_cpp20_i32_fastpath` | 0.022056 | 0.005182 | 0.003400 | 0.23x | 1.52x |

## fp_triad

![fp_triad plot](plots/fp_triad.svg)

| Variant | Python (s) | Funk (s) | C (s) | Funk/Python | Funk/C |
|---|---:|---:|---:|---:|---:|
| `funk_cpp20` | 0.024542 | 0.005864 | 0.003200 | 0.24x | 1.83x |
| `funk_cpp20_i32` | 0.024594 | 0.005408 | 0.003161 | 0.22x | 1.71x |
| `funk_cpp20_i32_fastpath` | 0.024471 | 0.005440 | 0.003033 | 0.22x | 1.79x |

## Findings

- `fib` best Funk variant is `funk_cpp20` at `0.024404s` (0.04x vs Python, 1.00x vs C).
- `fib_tr` best Funk variant is `funk_cpp20_i32` at `0.003079s` (0.23x vs Python, 1.18x vs C).
- `concat` best Funk variant is `funk_cpp20_i32_fastpath` at `0.132406s` (2.85x vs Python, 19.60x vs C).
- `sum_range` best Funk variant is `funk_cpp20` at `0.003127s` (0.14x vs Python, 1.00x vs C).
- `collatz` best Funk variant is `funk_cpp20_i32` at `0.004886s` (0.07x vs Python, 1.13x vs C).
- `mutual_recursion` best Funk variant is `funk_cpp20_i32_fastpath` at `0.003708s` (0.04x vs Python, 1.33x vs C).
- `fp_dot` best Funk variant is `funk_cpp20` at `0.004197s` (0.20x vs Python, 1.04x vs C).
- `fp_axpy` best Funk variant is `funk_cpp20` at `0.004799s` (0.22x vs Python, 1.39x vs C).
- `fp_triad` best Funk variant is `funk_cpp20_i32` at `0.005408s` (0.22x vs Python, 1.71x vs C).
