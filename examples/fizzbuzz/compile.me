#!/bin/sh
LLC=/usr/local/Cellar/llvm/6.0.1/bin/llc
module=fizzbuzz
echo "Compiling example " $module

rm -f *.o a.out
python funky.py examples/${module}/${module}.f
python funky.py util/foreach.f

$LLC -filetype=obj ${module}.ll
$LLC -filetype=obj foreach.ll
$LLC -filetype=obj funk/core/funk_core.ll
clang ${module}.o funk/core/funk_core.o foreach.o `simple2d --libs`

